{"componentChunkName":"component---src-templates-post-js","path":"/como-probar-un-paquete-npm-localmente/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p>Este post trata sobre probar un paquete que aún no ha sido publicado en un registry de npm.</p>\n</blockquote>\n<p>Hay veces en las que se quiere instalar un paquete local como dependencia del proyecto. Puede que estés escribiendo un paquete para distribución general; o puede que estés contribuyendo a un paquete de código abierto, o un paquete personal privado, o algo interno de tu equipo. Estás trabajando en cambios locales y necesitas probarlos antes de commitearlos o antes de abrir un pull request o deployar una actualización. ¿Cuál es la mejor manera de probar realmente ese paquete añadiéndolo a un proyecto local?</p>\n<p>Una de las formas podría ser subir nuestros cambios a Gitub/Gitlab/Bitbucket y agregarlos como dependencia con <code class=\"language-text\">npm install</code> o <code class=\"language-text\">yarn add</code> y junto a <code class=\"language-text\">&lt;remote url&gt;[#&lt;ref&gt;]</code> (o en GitHub por ejemplo <code class=\"language-text\">username/repo#branch-name-or-commit-or-tag</code>). Pero eso requiere de estar pusheando las actualizaciones y de reinstalar el paquete en el proyecto con cada cambio.</p>\n<p>Otra opción es agregar el paquete con <code class=\"language-text\">npm add relative/path</code> o <code class=\"language-text\">yarn add file:relative/path</code>, que copian el directorio del paquete en los <code class=\"language-text\">node_modules</code> del proyecto. Lo malo es que no instala dependencias. Tampoco responde a las actualizaciones que realices. Además, el uso de una ruta relativa puede ser difícil de manejar con <code class=\"language-text\">../</code>.</p>\n<p>Así que aquí te muestro dos maneras de hacerlo que me parecen presentan un enfoque más limpio. Mediante:</p>\n<ul>\n<li><a href=\"#npm-link\">npm link</a></li>\n<li><a href=\"#yalc\">Yalc</a></li>\n</ul>\n<h2 id=\"npm-link\" style=\"position:relative;\"><a href=\"#npm-link\" aria-label=\"npm link permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>npm link</h2>\n<p>Es un proceso de dos pasos:</p>\n<ol>\n<li>Crea un <strong>symlink</strong> global para una dependencia con <code class=\"language-text\">npm link</code>. Un symlink, abreviatura de enlace simbólico, es un acceso directo que apunta a otro directorio o archivo en tu sistema.</li>\n<li>Hazle saber al proyecto donde probarás tu paquete que use el enlace simbólico global con <code class=\"language-text\">npm link my-package</code>.</li>\n</ol>\n<h3 id=\"uso----omit-in-toc---\" style=\"position:relative;\"><a href=\"#uso----omit-in-toc---\" aria-label=\"uso    omit in toc    permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Uso <!-- omit in toc --></h3>\n<p>Entonces en el directorio del paquete en desarrollo <code class=\"language-text\">my-package</code> ejecutaremos</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span>$ <span class=\"token function\">npm</span> <span class=\"token function\">link</span>  <span class=\"token comment\"># paso 1</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Que lo que hace es, si mis <code class=\"language-text\">node_modules</code> están en <code class=\"language-text\">/usr/local/lib/node_modules/</code> entonces creará un enlace directo de <code class=\"language-text\">/usr/local/lib/node_modules/my-package</code> a <code class=\"language-text\">/Users/lavaldi/repos/my-package</code></p>\n<p>Luego en el directorio del proyecto donde probarás el paquete:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span><span class=\"token function\">npm</span> <span class=\"token function\">link</span> my-package <span class=\"token comment\"># paso 2</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Ahora puedes editar, transpilar o ejecutar pruebas en <code class=\"language-text\">my-package</code>. Todo mientras lo pruebas en un proyecto real. Los enlaces simbólicos son locales y no serás commiteados en git. Y cuando estés listo para compartir tu código, puedes publicar los cambios de <code class=\"language-text\">my-package</code> en un registry npm.</p>\n<h3 id=\"de-vuelta-a-la-normalidad----omit-in-toc---\" style=\"position:relative;\"><a href=\"#de-vuelta-a-la-normalidad----omit-in-toc---\" aria-label=\"de vuelta a la normalidad    omit in toc    permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>De vuelta a la normalidad <!-- omit in toc --></h3>\n<p>Cuando ya no desees utilizar la versión local de <code class=\"language-text\">my-package</code>, elimina el enlace simbólico. Pero cuidado, <code class=\"language-text\">npm unlink</code> es un alias para la desinstalación de npm (<code class=\"language-text\">npm uninstall</code>), no refleja el comportamiento de <code class=\"language-text\">npm link</code>.</p>\n<p>Por eso en el directorio del proyecto donde estabas probando el paquete:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span><span class=\"token function\">npm</span> uninstall --no-save my-package <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">npm</span> <span class=\"token function\">install</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Luego puedes limpiar el enlace global, aunque su presencia no interferirá con nada. En el directorio del paquete en desarollo:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span><span class=\"token function\">npm</span> uninstall  <span class=\"token comment\"># elimina el symlink</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Dominar este proceso de dos pasos de <code class=\"language-text\">npm link</code> es una adición útil al conjunto de herramientas de cualquier desarrollador de Node.js así que espero esta información te sea valiosa.</p>\n<blockquote>\n<p>Nota: Si usas yarn, lo puedes hacer de la siguiente manera</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span></span><span class=\"token comment\"># para linkear</span>\n<span class=\"token function\">yarn</span> <span class=\"token function\">link</span> <span class=\"token comment\"># paso 1</span>\n<span class=\"token function\">yarn</span> <span class=\"token function\">link</span> my-package <span class=\"token comment\"># paso 2</span>\n<span class=\"token comment\"># para volver a la normalidad</span>\n<span class=\"token function\">yarn</span> unlink my-package <span class=\"token comment\"># en el directorio del proyecto donde estabas probando el paquete</span>\n<span class=\"token function\">yarn</span> unlink <span class=\"token comment\"># elimina el symlink global</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</blockquote>\n<p>Ahora pasemos al siguiente método 👇</p>\n<h2 id=\"yalc\" style=\"position:relative;\"><a href=\"#yalc\" aria-label=\"yalc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Yalc</h2>\n<p><strong>yalc</strong> mantiene su propia \"registry\" local, en <code class=\"language-text\">~/.yalc</code>.</p>\n<ul>\n<li><strong>Publica</strong> un paquete con yalc, y una copia completa del paquete se copia en el registry.</li>\n<li><strong>Instala</strong> un paquete del registry de yalc, y el proyecto instalará esa copia de la misma manera que instalaría un paquete desde un registry externo.</li>\n<li><strong>Actualiza</strong> un paquete publicado en el registry de yalc, y la actualización ya está disponible en los proyectos dependientes; incluso puede publicar y actualizar automáticamente los proyectos dependientes con un solo comando.</li>\n</ul>\n<p>Para evitar que las cosas colisionen, yalc firma cada versión publicada con un hash. Y yalc puede almacenar tantas versiones de un paquete (esa es la versión package.json) como quiera.</p>\n<h3 id=\"tldr----omit-in-toc---\" style=\"position:relative;\"><a href=\"#tldr----omit-in-toc---\" aria-label=\"tldr    omit in toc    permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tldr; <!-- omit in toc --></h3>\n<p><em>La explicación de todos los comandos viene <a href=\"#instala-yalc\">más adelante</a></em></p>\n<p>En pocas palabras el flujo de trabajo básico de yalc es:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span></span><span class=\"token comment\"># configuración</span>\n<span class=\"token comment\"># --------------</span>\n\n$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g yalc <span class=\"token comment\"># o yarn global add yalc</span>\n\n\n<span class=\"token comment\"># usa yalc</span>\n<span class=\"token comment\"># -----------------------</span>\n\n$ <span class=\"token builtin class-name\">cd</span> path/to/package\nmy-package $ yalc publish\n\n<span class=\"token comment\"># si el proyecto donde lo quiero probar</span>\n<span class=\"token comment\"># ya tiene my-package como una dependencia</span>\nproject $ <span class=\"token function\">npm</span> uninstall -S my-package <span class=\"token comment\"># (or `yarn remove my-package`)</span>\n\nproject $ yalc <span class=\"token function\">add</span> my-package\n\n<span class=\"token comment\"># si my-package tiene dependencias</span>\nproject $ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token comment\"># (or `yarn`)</span>\n\n\n<span class=\"token comment\"># desarrollo</span>\n<span class=\"token comment\"># -------</span>\n\n<span class=\"token comment\"># empieza a hackear ...</span>\n<span class=\"token comment\"># y al terminar</span>\n\nmy-package $ yalc push\n\n<span class=\"token comment\"># si las dependencias de my-package cambiaron, instala las dependencies</span>\nproject $ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token comment\"># (or `yarn`)</span>\n\n<span class=\"token comment\"># prueba el proyecto, hackea de nuevo, yalc push, repetir hasta terminar</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"instala-yalc----omit-in-toc---\" style=\"position:relative;\"><a href=\"#instala-yalc----omit-in-toc---\" aria-label=\"instala yalc    omit in toc    permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Instala yalc <!-- omit in toc --></h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span>$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g yalc <span class=\"token comment\"># o `yarn global add yalc`</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3 id=\"publica-un-paquete-en-tu-registry-local-de-yalc----omit-in-toc---\" style=\"position:relative;\"><a href=\"#publica-un-paquete-en-tu-registry-local-de-yalc----omit-in-toc---\" aria-label=\"publica un paquete en tu registry local de yalc    omit in toc    permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Publica un paquete en tu registry local de Yalc <!-- omit in toc --></h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span></span><span class=\"token comment\"># en el directorio del paquete en desarrollo</span>\n$ yalc publish</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Este comando lanzará al final el nombre real del paquete que usaremos en el siguiente comando.</p>\n<h3 id=\"añade-el-paquete-como-una-dependencia-desde-el-registry-de-yalc----omit-in-toc---\" style=\"position:relative;\"><a href=\"#a%C3%B1ade-el-paquete-como-una-dependencia-desde-el-registry-de-yalc----omit-in-toc---\" aria-label=\"añade el paquete como una dependencia desde el registry de yalc    omit in toc    permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Añade el paquete como una dependencia desde el registry de yalc <!-- omit in toc --></h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span></span><span class=\"token comment\"># en el proyecto donde probarás el paquete</span>\n$ yalc <span class=\"token function\">add</span> <span class=\"token operator\">&lt;</span>dependency name<span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Si miras tu <code class=\"language-text\">package.json</code> verás que la dependencia ha sido añadida, con una ruta parecida a <code class=\"language-text\">file:.yalc/</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"my-package\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"file:.yalc/my-package\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>yalc también agregará el archivo <code class=\"language-text\">yalc.lock</code>, que lista las dependencias del proyecto agregadas con yalc. Después de que yalc agregue el paquete y el <code class=\"language-text\">yalc.lock</code> en el directorio raíz del proyecto dependiente (donde pruebas tu paquete) se verá algo como:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"v1\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"packages\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"my-package\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"signature\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// un hash para identificar la versión del paquete en el registry de yalc</span>\n      <span class=\"token property\">\"file\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// tipo de la conexión de yalc</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>yalc no instala las dependencias del paquete, por lo que si el paquete en desarrollo tiene sus propias dependencias en el <code class=\"language-text\">package.json</code>, éstas deberán ser instaladas en el proyecto de prueba como un segundo paso:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span></span><span class=\"token comment\"># en el proyecto donde se prueba el paquete</span>\n$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> <span class=\"token comment\"># or yarn</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3 id=\"sube-los-cambios-del-paquete-a-los-proyectos-dependientes-locales----omit-in-toc---\" style=\"position:relative;\"><a href=\"#sube-los-cambios-del-paquete-a-los-proyectos-dependientes-locales----omit-in-toc---\" aria-label=\"sube los cambios del paquete a los proyectos dependientes locales    omit in toc    permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sube los cambios del paquete a los proyectos dependientes locales <!-- omit in toc --></h3>\n<p>Después de guardar los cambios en el paquete en desarrollo, simplemente ejecuta:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span></span><span class=\"token comment\"># en el directorio del paquete en desarrollo</span>\n$ yalc push <span class=\"token comment\"># shorthand para yalc publish --push</span>\n\nPushing my-package@<span class=\"token operator\">&lt;</span>version<span class=\"token operator\">></span> <span class=\"token keyword\">in</span> path/to/my-package\nPushing my-package@<span class=\"token operator\">&lt;</span>version<span class=\"token operator\">></span>-<span class=\"token operator\">&lt;</span>hash<span class=\"token operator\"><span class=\"token file-descriptor important\">8</span>></span> added <span class=\"token operator\">==</span><span class=\"token operator\">></span> path/to/my-project/node_modules/package.\nPushing my-package@<span class=\"token operator\">&lt;</span>version<span class=\"token operator\">></span> <span class=\"token keyword\">in</span> path/to/my-project2\nPushing my-package@<span class=\"token operator\">&lt;</span>version<span class=\"token operator\">></span>-<span class=\"token operator\">&lt;</span>hash<span class=\"token operator\"><span class=\"token file-descriptor important\">8</span>></span> added <span class=\"token operator\">==</span><span class=\"token operator\">></span> path/to/my-project2/node_modules/package.\nmy-package@<span class=\"token operator\">&lt;</span>version<span class=\"token operator\">></span>-<span class=\"token operator\">&lt;</span>hash<span class=\"token operator\"><span class=\"token file-descriptor important\">8</span>></span> published <span class=\"token keyword\">in</span> store.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Esto publicará una nueva versión en el respository de yalc y actualizará automáticamente todos los proyectos locales donde yalc añadió el paquete a la nueva versión.</p>\n<p>Si no deseas actualizar automáticamente la dependencia en todos los proyectos en los que se ha añadido (por ejemplo, si tiene varios proyectos con versiones distintas de la dependencia), utiliza:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span></span><span class=\"token comment\"># en el directorio del paquete en desarrollo</span>\n$ yalc publish</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span></span><span class=\"token comment\"># en el proyecto donde se prueba el paquete</span>\n$ yalc update</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Cuando las dependencias del paquete cambien, reinstala las dependencias del proyecto de dependencia (por ejemplo, <code class=\"language-text\">npm i</code> o <code class=\"language-text\">yarn</code>).</p>\n<p>That's it!</p>\n<hr>\n<p>¿Tienes otros flujos de trabajo favoritos para desarrollar paquetes que serán publicados? Me encantaría saber, ¡deja un comentario abajo! 💬👇</p>","excerpt":"Este post trata sobre probar un paquete que aún no ha sido publicado en un registry de npm. Hay veces en las que se quiere instalar un…","fields":{"slug":"/como-probar-un-paquete-npm-localmente/"},"frontmatter":{"title":"Cómo probar un paquete npm localmente","date":"May 04, 2020","tags":["npm","link","node","yalc"],"description":null,"banner":"https://i.imgur.com/XJHiNhx.png","slug":"como-probar-un-paquete-npm-localmente"}}},"pageContext":{"slug":"/como-probar-un-paquete-npm-localmente/","previous":{"id":"e8a37283-e821-5eb3-b3ee-af121f53ef08","frontmatter":{"title":"Lanzar comandos de la terminal al abrir un proyecto en VS Code","banner":"https://i.imgur.com/CEnh8Y6.png","categories":["Code"],"tags":["vscode"],"template":"post"},"fields":{"slug":"/lanzar-comandos-de-la-terminal-al-abrir-un-proyecto-en-vs-code/"}},"next":{"id":"c5b55049-789c-5da5-a414-a11382f4b173","frontmatter":{"title":"Desplegar tu blog de Gatsby en GitHub Pages (Actions)","banner":"https://i.imgur.com/aLVxRAo.png","categories":["Code"],"tags":["gatsby","github","actions"],"template":"post"},"fields":{"slug":"/desplegar-tu-blog-de-gatsby-en-git-hub-pages-actions/"}}}},"staticQueryHashes":[]}