{"componentChunkName":"component---src-templates-post-js","path":"/node-con-babel/","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p>Este tutorial es la parte 1 de 3 en esta serie.<br>\nParte 2: <a href=\"/configurar-express-en-node\">¿Cómo configurar Express.js en Node.js?</a><br>\nParte 3: <a href=\"/como-crear-api-rest-express-node\">Cómo crear un API REST con Express.js y Node.js</a></p>\n</blockquote>\n<p>En estos día un amigo me preguntó sobre cómo hacer para crear un proyecto con Node.js usando la última versión de JavaScript (ES6, ES7, ESNext) y la verdad es que no tenía un bootstrap sobre eso, así que aquí va el post sobre cómo tener una configuración mínima para usar Node.js con Babel.</p>\n<p>El proyecto final que implementaremos aquí se puede encontrar en este <a href=\"https://github.com/lavaldi/node-babel\">repositorio de GitHub</a>.</p>\n<h2 id=\"configuración-del-proyecto-node\" style=\"position:relative;\"><a href=\"#configuraci%C3%B3n-del-proyecto-node\" aria-label=\"configuración del proyecto node permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Configuración del proyecto Node</h2>\n<p>Para comenzar con un nuevo proyecto, debemos crear una carpeta donde se aloje nuestro proyecto, en la línea de comandos:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span></span><span class=\"token function\">mkdir</span> mi-proyecto\n<span class=\"token builtin class-name\">cd</span> mi-proyecto</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Una vez dentro de la carpeta del proyecto, puedes inicializarlo como proyecto npm. Puedes hacerlo con la configuración por defecto de npm con</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span><span class=\"token function\">npm</span> init -y</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<blockquote>\n<p>En <a href=\"/como-iniciar-un-proyecto-con-node\">Cómo iniciar un proyecto con Node.js</a> te enseño cómo personalizar y automatizar tu setup de npm de una forma súper cool 😎</p>\n</blockquote>\n<p>Después de configurar tu proyecto npm, puedes instalar paquetes de node (bibliotecas a.k.a librerías 🙈🙊) en tu proyecto con npm. Una vez que instales un nuevo paquete de node, se almacenará en su archivo <code class=\"language-text\">package.json</code>. Después de todo, tu proyecto también es un paquete de node 😉.</p>\n<p>A continuación, en la línea de comandos o en tu editor/IDE, crea una carpeta <code class=\"language-text\">src/</code> para el código fuente de tu proyecto. En esta carpeta, crea un archivo <code class=\"language-text\">src/index.js</code> como punto de entrada a su proyecto:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span><span data-user=root data-host=localhost></span></span><span class=\"token function\">mkdir</span> src\n<span class=\"token builtin class-name\">cd</span> src\n<span class=\"token function\">touch</span> index.js</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Para comenzar, introduciremos una declaración <code class=\"language-text\">console.log</code> en el archivo para asegurarnos de que todo se está ejecutando correctamente:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hola 👋 Node.js.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Vuelve a la línea de comandos, puede ejecutar este archivo con Node.js desde la carpeta raíz de su proyecto:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span>node src/index.js</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Un registro de instrucciones aparece en la línea de comandos después de que se ejecuta el script. Luego, mueve este comandos al archivo <code class=\"language-text\">package.json</code>, porque ahí es donde todas las secuencias de comandos de tu proyecto terminarán finalmente.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  ...\n  <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"node src/index.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  ...\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>En la línea de comandos, ejecuta el mismo script que antes, pero con <code class=\"language-text\">npm start</code>. Cada vez que cambie el script de inicio subyacente en los scripts npm del archivo <code class=\"language-text\">package.json</code>, solo necesita escribir <code class=\"language-text\">npm start</code> en la línea de comandos.</p>\n<h2 id=\"node-con-nodemon\" style=\"position:relative;\"><a href=\"#node-con-nodemon\" aria-label=\"node con nodemon permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Node con Nodemon</h2>\n<p>La única preocupación restante es que tenemos que ejecutar el script anterior cada vez que realicemos un cambio en nuestro código fuente. Podemos cambiar esto con un proceso de node que siempre esté en ejecución. Para remediar esto, instalaremos la biblioteca de <a href=\"https://github.com/remy/nodemon\">nodemon</a> comúnmente utilizada en la línea de comandos como una <a href=\"https://docs.npmjs.com/files/package.json#dependencies\">dependencia de desarrollo</a> para nuestro proyecto.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span><span class=\"token function\">npm</span> <span class=\"token function\">install</span> nodemon --save-dev</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>A continuación, intercambia node por nodemon en el script de npm:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  ...\n  <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"nodemon src/index.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  ...\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Cuando ejecutemos la aplicación con <code class=\"language-text\">npm start</code> desde la línea de comandos, debería ejecutarse y también se actualizará con cada nuevo cambio que realicemos en el código fuente. Intenta modificar el código para que lo veas 💪</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hola 👋 ejecutando continuamente Node.js!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Esto es muy chévere 🤙 porque el proceso de node se ejecuta nuevamente una vez que cambia su código, si pasa algún error lo veremos en la línea de comandos y si se soluciona, se ejecuta nuevamente.</p>\n<h2 id=\"node-con-babel\" style=\"position:relative;\"><a href=\"#node-con-babel\" aria-label=\"node con babel permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Node con Babel</h2>\n<p>Con la configuración anterios podríamos desarrollar una aplicación con Node.js normalmente, pero hay más para configurar un proyecto sofisticado Node.js que sea capaz de usar funciones de lenguaje JavaScript recientes (ECMAScript) que no están incluidas en las versiones recientes de Node.js. Ahí es donde <a href=\"https://babeljs.io/\">Babel</a> se vuelve útil. Puedes instalarlo desde la línea de comandos para las dependencias de desarrollo de su proyecto.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span><span class=\"token function\">npm</span> <span class=\"token function\">install</span> @babel/core @babel/node --save-dev</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>A continuación, agrégualo a tu script de npm:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  ...\n  <span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"index.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"nodemon --exec babel-node src/index.js\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  ...\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Nada debería cambiar cuando ejecutes la aplicación de nuevo, piensa que eso es solo la superficie. Bajo el capó, Babel transpila tu código a JavaScript puro. Puedes usar tranquilamente una nueva función o característica de JavaScript, que no se ha introducido en Node.js. Babel se asegura de que Node.js lo entienda. Sin embargo, todavía hay un paso crucial para incluir las próximas funciones de lenguaje con Babel. Puedes activar las diferentes y nuevas funciones de JavaScript agregándolas como ajustes preestablecidos a Babel. Para eso, agregamos el preset de Babel más común:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span><span class=\"token function\">npm</span> <span class=\"token function\">install</span> @babel/preset-env --save-dev</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Ahora, en la carpeta raíz del proyecto, crea un archivo <code class=\"language-text\">.babelrc</code> en la línea de comando:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span><span class=\"token function\">touch</span> .babelrc</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>En este archivo de configuración para Babel, podemos incluir el preset recientemente instalado para desbloquear las próximas funciones de lenguaje JavaScript.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"@babel/preset-env\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Ahora puedes incluir las próximas funciones de JavaScript en su archivo <code class=\"language-text\">src/index.js</code>. Si tienes problemas porque la función que deseas no funciona, verifica si existe un preset de Babel dedicado.</p>\n<h2 id=\"plus-variables-de-entorno-en-node\" style=\"position:relative;\"><a href=\"#plus-variables-de-entorno-en-node\" aria-label=\"plus variables de entorno en node permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plus: Variables de entorno en Node</h2>\n<p>Es importante establecer datos como claves de API privadas y credenciales de usuario como contraseñas, nombre de usuario y correo electrónico como variables de entorno, pero sin exponerlas en el código fuente. Para esto, colocamos las variables de entorno en un archivo dedicado que está a salvo del acceso externo. El archivo <code class=\"language-text\">.env</code> nos permite configurar las variables de entorno para Node.js como accesibles en el código fuente del proyecto. En la línea de comandos, en la carpeta raíz del proyecto, crea un archivo <code class=\"language-text\">.env</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span><span class=\"token function\">touch</span> .env</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Ahora podemos colocar cualquier par de valores clave que no deseemos en el código fuente en este nuevo archivo.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">MI_PASSWORD=esteesmipasswordsecreto</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>dotenv es otra biblioteca útil para hacer que las variables de entorno sean accesibles en el código fuente. Primero, los intalaremos como dependencia normal:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"command-line-prompt\"><span data-user=root data-host=localhost></span></span><span class=\"token function\">npm</span> <span class=\"token function\">install</span> dotenv --save</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Segundo, hay que importalo en el archivo donde se va a utilizar, en nuestro caso <code class=\"language-text\">src/index.js</code> para inicializarlo. La variable de entorno del archivo <code class=\"language-text\">.env</code> ahora es accesible en el código fuente.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"dotenv/config\"</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hola 👋 Node.js.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">MI_PASSWORD</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Vuelve a lanzar <code class=\"language-text\">npm start</code> y verás la variable de entorno en la línea de comandos. Ahora puede almacenar datos sensibles por separado del código fuente.</p>\n<p>Ahora, considera el siguiente código para el archivo <code class=\"language-text\">src/index.js</code>, donde se importa una función desde otro archivo de este proyecto.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> diAlgo <span class=\"token keyword\">from</span> <span class=\"token string\">\"./mi-otro-archivo.js\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"dotenv/config\"</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Si usas una variable de entorno en <code class=\"language-text\">src/mi-otro-archivo.js</code>, no estará definida porque la inicialización del paquete dotenv ocurre después de la importación en el archivo <code class=\"language-text\">src/index.js</code>. Para solucionarlo, hay que inicializar dotenv antes de importar los archivos locales:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"dotenv/config\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> diAlgo <span class=\"token keyword\">from</span> <span class=\"token string\">\"./mi-otro-archivo.js\"</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Esta es una comprensión básica de las variables de entorno Node.js. Deben usarse para mantener seguros los datos sensibles en las aplicaciones de JavaScript, pero no deben compartirse en los repositorios públicos de GitHub cuando se usa git ⚠️</p>\n<p>Hemos terminado! Checa el <a href=\"https://github.com/lavaldi/node-babel\">repositorio de GitHub</a> 👀</p>\n<blockquote>\n<p>Este tutorial es la parte 1 de 3 en esta serie.<br>\nParte 2: <a href=\"/configurar-express-en-node\">¿Cómo configurar Express.js en Node.js?</a><br>\nParte 3: <a href=\"/como-crear-api-rest-express-node\">Cómo crear un API REST con Express.js y Node.js</a></p>\n</blockquote>","excerpt":"Este tutorial es la parte 1 de 3 en esta serie.\nParte 2: ¿Cómo configurar Express.js en Node.js?\nParte 3: Cómo crear un API REST con Express…","fields":{"slug":"/node-con-babel/"},"frontmatter":{"title":"Configuración mínima de Node.js con Babel","date":"January 28, 2019","tags":["node","babel"],"description":null,"banner":null,"slug":"node-con-babel"}}},"pageContext":{"slug":"/node-con-babel/","previous":{"id":"cff371c2-72d4-5751-82fc-f9493bba3f70","frontmatter":{"title":"Cómo iniciar un proyecto con Node.js","banner":null,"categories":["Code"],"tags":["node"],"template":"post"},"fields":{"slug":"/como-iniciar-un-proyecto-con-node/"}},"next":{"id":"61cd5fb4-1f78-5435-a8c8-722a1689d11e","frontmatter":{"title":"¿Cómo configurar Express.js en Node.js?","banner":null,"categories":["Code"],"tags":["node","babel","express"],"template":"post"},"fields":{"slug":"/configurar-express-en-node/"}},"coverPicture":"./public/af2f3127e49b0ed28d3eabae4b490d9e.png"}},"staticQueryHashes":[]}